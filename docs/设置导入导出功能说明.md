# 设置导入导出功能说明

## 功能概述

文件搜索工具现在支持设置的导入和导出功能，可以方便地备份和恢复您的所有配置。

## 功能特点

### 🎯 一键导出
- **自动备份**: 将所有设置导出为 JSON 文件
- **桌面保存**: 自动保存到桌面，文件名包含时间戳
- **自动打开**: 导出完成后自动打开文件所在目录

### 📥 智能导入
- **文件选择**: 支持通过对话框选择设置文件
- **安全确认**: 导入前显示详细信息供确认
- **完整恢复**: 一次性恢复所有配置设置

### 🎨 界面集成
- **下拉菜单**: 设置按钮变为下拉菜单，集成所有设置选项
- **图标指示**: 每个选项都有相应的图标
- **悬停触发**: 鼠标悬停即可展开菜单

## 导出内容

导出的设置文件包含以下配置：

### 全局设置 (globalSettings)
- `exportPath`: 导出路径设置
- `autoOpenFolder`: 自动打开文件夹设置
- `theme`: 主题设置 (light/dark)
- `collapsedKeys`: 折叠面板状态

### 文件搜索设置 (fileSearchSettings)
- `columnVisibility`: 列显示配置
- `columnWidths`: 列宽度配置
- `columnOrder`: 列顺序配置
- `searchSettings`: 搜索选项配置
- `paginationSettings`: 分页设置
- `layoutSettings`: 布局设置
- `everythingSettings`: Everything 服务配置
- `appearanceSettings`: 界面外观设置

### 文件类型设置 (fileTypesSettings)
- `fileTypes`: 文件类型配置
- `specialFilters`: 特殊筛选项配置

### 元数据
- `exportTime`: 导出时间戳
- `version`: 设置文件版本

## 使用方法

### 导出设置
1. 点击工具栏中的"设置"按钮
2. 从下拉菜单中选择"导出设置"
3. 系统自动将设置保存到桌面
4. 导出完成后自动打开桌面目录

### 导入设置
1. 点击工具栏中的"设置"按钮
2. 从下拉菜单中选择"导入设置"
3. 在文件对话框中选择之前导出的 JSON 文件
4. 确认导入信息后点击"确定导入"
5. 系统自动应用所有设置

## 文件格式

导出的 JSON 文件结构示例：
```json
{
  "globalSettings": {
    "exportPath": "",
    "autoOpenFolder": true,
    "theme": "light",
    "collapsedKeys": []
  },
  "fileSearchSettings": {
    "columnVisibility": {
      "name": true,
      "path": true,
      "size": true,
      "date_modified": true,
      "type": true
    },
    // ... 其他设置
  },
  "fileTypesSettings": {
    // 文件类型配置
  },
  "exportTime": "2024-09-10T10:30:00.000Z",
  "version": "1.0.0"
}
```

## 安全特性

- **格式验证**: 导入前验证文件格式和版本
- **确认对话框**: 显示详细信息供用户确认
- **错误处理**: 完善的错误处理和用户提示
- **备份时间**: 显示原始导出时间

## 注意事项

1. **兼容性**: 只能导入相同或兼容版本的设置文件
2. **覆盖警告**: 导入会覆盖当前所有设置，请谨慎操作
3. **文件路径**: 确保有足够的磁盘空间保存导出文件
4. **权限要求**: 需要有桌面目录的写入权限

这个功能让您可以轻松备份和在不同设备间同步设置，提高了使用的便利性！
